// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) AutoRest Code Generator.

package com.azure.resourcemanager.datafactory.generated;

import com.azure.core.management.serializer.SerializerFactory;
import com.azure.core.util.serializer.SerializerEncoding;
import com.azure.resourcemanager.datafactory.models.ChangeDataCaptureResource;
import com.azure.resourcemanager.datafactory.models.ConnectionType;
import com.azure.resourcemanager.datafactory.models.DataMapperMapping;
import com.azure.resourcemanager.datafactory.models.FrequencyType;
import com.azure.resourcemanager.datafactory.models.LinkedServiceReference;
import com.azure.resourcemanager.datafactory.models.MapperAttributeMapping;
import com.azure.resourcemanager.datafactory.models.MapperAttributeMappings;
import com.azure.resourcemanager.datafactory.models.MapperAttributeReference;
import com.azure.resourcemanager.datafactory.models.MapperConnection;
import com.azure.resourcemanager.datafactory.models.MapperConnectionReference;
import com.azure.resourcemanager.datafactory.models.MapperDslConnectorProperties;
import com.azure.resourcemanager.datafactory.models.MapperPolicy;
import com.azure.resourcemanager.datafactory.models.MapperPolicyRecurrence;
import com.azure.resourcemanager.datafactory.models.MapperSourceConnectionsInfo;
import com.azure.resourcemanager.datafactory.models.MapperTable;
import com.azure.resourcemanager.datafactory.models.MapperTableSchema;
import com.azure.resourcemanager.datafactory.models.MapperTargetConnectionsInfo;
import com.azure.resourcemanager.datafactory.models.MappingType;
import java.io.IOException;
import java.util.Arrays;

/** Samples for ChangeDataCapture CreateOrUpdate. */
public final class ChangeDataCaptureCreateOrUpdateSamples {
    /*
     * x-ms-original-file: specification/datafactory/resource-manager/Microsoft.DataFactory/stable/2018-06-01/examples/ChangeDataCapture_Create.json
     */
    /**
     * Sample code: ChangeDataCapture_Create.
     *
     * @param manager Entry point to DataFactoryManager.
     */
    public static void changeDataCaptureCreate(com.azure.resourcemanager.datafactory.DataFactoryManager manager)
        throws IOException {
        manager
            .changeDataCaptures()
            .define("exampleChangeDataCapture")
            .withExistingFactory("exampleResourceGroup", "exampleFactoryName")
            .withSourceConnectionsInfo(
                Arrays
                    .asList(
                        new MapperSourceConnectionsInfo()
                            .withSourceEntities(
                                Arrays
                                    .asList(
                                        new MapperTable()
                                            .withName("source/customer")
                                            .withSchema(
                                                Arrays
                                                    .asList(
                                                        new MapperTableSchema()
                                                            .withName("CustId")
                                                            .withDataType("short"),
                                                        new MapperTableSchema()
                                                            .withName("CustName")
                                                            .withDataType("string"),
                                                        new MapperTableSchema()
                                                            .withName("CustAddres")
                                                            .withDataType("string"),
                                                        new MapperTableSchema()
                                                            .withName("CustDepName")
                                                            .withDataType("string"),
                                                        new MapperTableSchema()
                                                            .withName("CustDepLoc")
                                                            .withDataType("string")))
                                            .withDslConnectorProperties(
                                                Arrays
                                                    .asList(
                                                        new MapperDslConnectorProperties()
                                                            .withName("container")
                                                            .withValue("source"),
                                                        new MapperDslConnectorProperties()
                                                            .withName("fileSystem")
                                                            .withValue("source"),
                                                        new MapperDslConnectorProperties()
                                                            .withName("folderPath")
                                                            .withValue("customer"),
                                                        new MapperDslConnectorProperties()
                                                            .withName("allowSchemaDrift")
                                                            .withValue(false),
                                                        new MapperDslConnectorProperties()
                                                            .withName("inferDriftedColumnTypes")
                                                            .withValue(false))),
                                        new MapperTable()
                                            .withName("source/employee")
                                            .withSchema(Arrays.asList())
                                            .withDslConnectorProperties(
                                                Arrays
                                                    .asList(
                                                        new MapperDslConnectorProperties()
                                                            .withName("container")
                                                            .withValue("source"),
                                                        new MapperDslConnectorProperties()
                                                            .withName("fileSystem")
                                                            .withValue("source"),
                                                        new MapperDslConnectorProperties()
                                                            .withName("folderPath")
                                                            .withValue("employee"))),
                                        new MapperTable()
                                            .withName("lookup")
                                            .withSchema(
                                                Arrays
                                                    .asList(
                                                        new MapperTableSchema().withName("EmpId").withDataType("short"),
                                                        new MapperTableSchema()
                                                            .withName("EmpName")
                                                            .withDataType("string"),
                                                        new MapperTableSchema()
                                                            .withName("HomeAddress")
                                                            .withDataType("string"),
                                                        new MapperTableSchema()
                                                            .withName("OfficeAddress")
                                                            .withDataType("string"),
                                                        new MapperTableSchema()
                                                            .withName("EmpPhoneNumber")
                                                            .withDataType("integer"),
                                                        new MapperTableSchema()
                                                            .withName("DepName")
                                                            .withDataType("string"),
                                                        new MapperTableSchema()
                                                            .withName("DepLoc")
                                                            .withDataType("string"),
                                                        new MapperTableSchema()
                                                            .withName("DecimalCol")
                                                            .withDataType("double")))
                                            .withDslConnectorProperties(
                                                Arrays
                                                    .asList(
                                                        new MapperDslConnectorProperties()
                                                            .withName("container")
                                                            .withValue("lookup"),
                                                        new MapperDslConnectorProperties()
                                                            .withName("fileSystem")
                                                            .withValue("lookup"),
                                                        new MapperDslConnectorProperties()
                                                            .withName("allowSchemaDrift")
                                                            .withValue(false),
                                                        new MapperDslConnectorProperties()
                                                            .withName("inferDriftedColumnTypes")
                                                            .withValue(false))),
                                        new MapperTable()
                                            .withName("source/justSchema")
                                            .withSchema(
                                                Arrays
                                                    .asList(
                                                        new MapperTableSchema()
                                                            .withName("CustId")
                                                            .withDataType("string"),
                                                        new MapperTableSchema()
                                                            .withName("CustName")
                                                            .withDataType("string"),
                                                        new MapperTableSchema()
                                                            .withName("CustAddres")
                                                            .withDataType("string"),
                                                        new MapperTableSchema()
                                                            .withName("CustDepName")
                                                            .withDataType("string"),
                                                        new MapperTableSchema()
                                                            .withName("CustDepLoc")
                                                            .withDataType("string")))
                                            .withDslConnectorProperties(
                                                Arrays
                                                    .asList(
                                                        new MapperDslConnectorProperties()
                                                            .withName("container")
                                                            .withValue("source"),
                                                        new MapperDslConnectorProperties()
                                                            .withName("fileSystem")
                                                            .withValue("source"),
                                                        new MapperDslConnectorProperties()
                                                            .withName("folderPath")
                                                            .withValue("justSchema"),
                                                        new MapperDslConnectorProperties()
                                                            .withName("allowSchemaDrift")
                                                            .withValue(false),
                                                        new MapperDslConnectorProperties()
                                                            .withName("inferDriftedColumnTypes")
                                                            .withValue(false)))))
                            .withConnection(
                                new MapperConnection()
                                    .withLinkedService(new LinkedServiceReference().withReferenceName("amjaAdls03"))
                                    .withLinkedServiceType("AzureBlobFS")
                                    .withType(ConnectionType.LINKEDSERVICETYPE)
                                    .withIsInlineDataset(true)
                                    .withCommonDslConnectorProperties(
                                        Arrays
                                            .asList(
                                                new MapperDslConnectorProperties()
                                                    .withName("allowSchemaDrift")
                                                    .withValue(true),
                                                new MapperDslConnectorProperties()
                                                    .withName("inferDriftedColumnTypes")
                                                    .withValue(true),
                                                new MapperDslConnectorProperties()
                                                    .withName("format")
                                                    .withValue("delimited"),
                                                new MapperDslConnectorProperties()
                                                    .withName("dateFormats")
                                                    .withValue(
                                                        SerializerFactory
                                                            .createDefaultManagementSerializerAdapter()
                                                            .deserialize(
                                                                "[\"MM/dd/yyyy\",\"dd/MM/yyyy\",\"yyyy/MM/dd\",\"MM-dd-yyyy\",\"dd-MM-yyyy\",\"yyyy-MM-dd\",\"dd.MM.yyyy\",\"MM.dd.yyyy\",\"yyyy.MM.dd\"]",
                                                                Object.class,
                                                                SerializerEncoding.JSON)),
                                                new MapperDslConnectorProperties()
                                                    .withName("timestampFormats")
                                                    .withValue(
                                                        SerializerFactory
                                                            .createDefaultManagementSerializerAdapter()
                                                            .deserialize(
                                                                "[\"yyyyMMddHHmm\",\"yyyyMMdd"
                                                                    + " HHmm\",\"yyyyMMddHHmmss\",\"yyyyMMdd"
                                                                    + " HHmmss\",\"dd-MM-yyyy HH:mm:ss\",\"dd-MM-yyyy"
                                                                    + " HH:mm\",\"yyyy-M-d"
                                                                    + " H:m:s\",\"yyyy-MM-dd\\\\'T\\\\'HH:mm:ss\\\\'Z\\\\'\",\"yyyy-M-d\\\\'T\\\\'H:m:s\\\\'Z\\\\'\",\"yyyy-M-d\\\\'T\\\\'H:m:s\",\"yyyy-MM-dd\\\\'T\\\\'HH:mm:ss\",\"yyyy-MM-dd"
                                                                    + " HH:mm:ss\",\"yyyy-MM-dd HH:mm\",\"yyyy.MM.dd"
                                                                    + " HH:mm:ss\",\"MM/dd/yyyy HH:mm:ss\",\"M/d/yyyy"
                                                                    + " H:m:s\",\"yyyy/MM/dd HH:mm:ss\",\"yyyy/M/d"
                                                                    + " H:m:s\",\"dd MMM yyyy HH:mm:ss\",\"dd MMMM yyyy"
                                                                    + " HH:mm:ss\",\"d MMM yyyy H:m:s\",\"d MMMM yyyy"
                                                                    + " H:m:s\",\"d-M-yyyy H:m:s\",\"d-M-yyyy"
                                                                    + " H:m\",\"yyyy-M-d H:m\",\"MM/dd/yyyy"
                                                                    + " HH:mm\",\"M/d/yyyy H:m\",\"yyyy/MM/dd"
                                                                    + " HH:mm\",\"yyyy/M/d H:m\",\"dd MMMM yyyy"
                                                                    + " HH:mm\",\"dd MMM yyyy HH:mm\",\"d MMMM yyyy"
                                                                    + " H:m\",\"d MMM yyyy H:m\",\"MM-dd-yyyy hh:mm:ss"
                                                                    + " a\",\"MM-dd-yyyy HH:mm:ss\",\"MM/dd/yyyy"
                                                                    + " hh:mm:ss a\",\"yyyy.MM.dd hh:mm:ss"
                                                                    + " a\",\"MM/dd/yyyy\",\"dd/MM/yyyy\",\"yyyy/MM/dd\",\"MM-dd-yyyy\",\"dd-MM-yyyy\",\"yyyy-MM-dd\",\"dd.MM.yyyy\",\"MM.dd.yyyy\",\"yyyy.MM.dd\"]",
                                                                Object.class,
                                                                SerializerEncoding.JSON)),
                                                new MapperDslConnectorProperties()
                                                    .withName("enableCdc")
                                                    .withValue(true),
                                                new MapperDslConnectorProperties()
                                                    .withName("skipInitialLoad")
                                                    .withValue(true),
                                                new MapperDslConnectorProperties()
                                                    .withName("columnNamesAsHeader")
                                                    .withValue(true),
                                                new MapperDslConnectorProperties()
                                                    .withName("columnDelimiter")
                                                    .withValue(","),
                                                new MapperDslConnectorProperties()
                                                    .withName("escapeChar")
                                                    .withValue("\\\\"),
                                                new MapperDslConnectorProperties()
                                                    .withName("quoteChar")
                                                    .withValue("\\\""))))))
            .withTargetConnectionsInfo(
                Arrays
                    .asList(
                        new MapperTargetConnectionsInfo()
                            .withTargetEntities(
                                Arrays
                                    .asList(
                                        new MapperTable()
                                            .withName("dbo.employee")
                                            .withSchema(Arrays.asList())
                                            .withDslConnectorProperties(
                                                Arrays
                                                    .asList(
                                                        new MapperDslConnectorProperties()
                                                            .withName("schemaName")
                                                            .withValue("dbo"),
                                                        new MapperDslConnectorProperties()
                                                            .withName("tableName")
                                                            .withValue("employee"))),
                                        new MapperTable()
                                            .withName("dbo.justSchema")
                                            .withSchema(Arrays.asList())
                                            .withDslConnectorProperties(
                                                Arrays
                                                    .asList(
                                                        new MapperDslConnectorProperties()
                                                            .withName("schemaName")
                                                            .withValue("dbo"),
                                                        new MapperDslConnectorProperties()
                                                            .withName("tableName")
                                                            .withValue("justSchema"),
                                                        new MapperDslConnectorProperties()
                                                            .withName("allowSchemaDrift")
                                                            .withValue(true),
                                                        new MapperDslConnectorProperties()
                                                            .withName("inferDriftedColumnTypes")
                                                            .withValue(true))),
                                        new MapperTable()
                                            .withName("dbo.customer")
                                            .withSchema(
                                                Arrays
                                                    .asList(
                                                        new MapperTableSchema()
                                                            .withName("CustId")
                                                            .withDataType("integer"),
                                                        new MapperTableSchema()
                                                            .withName("CustName")
                                                            .withDataType("string"),
                                                        new MapperTableSchema()
                                                            .withName("CustAddres")
                                                            .withDataType("string"),
                                                        new MapperTableSchema()
                                                            .withName("CustDeptName")
                                                            .withDataType("string"),
                                                        new MapperTableSchema()
                                                            .withName("CustEmail")
                                                            .withDataType("string")))
                                            .withDslConnectorProperties(
                                                Arrays
                                                    .asList(
                                                        new MapperDslConnectorProperties()
                                                            .withName("schemaName")
                                                            .withValue("dbo"),
                                                        new MapperDslConnectorProperties()
                                                            .withName("tableName")
                                                            .withValue("customer"),
                                                        new MapperDslConnectorProperties()
                                                            .withName("allowSchemaDrift")
                                                            .withValue(false),
                                                        new MapperDslConnectorProperties()
                                                            .withName("inferDriftedColumnTypes")
                                                            .withValue(false))),
                                        new MapperTable()
                                            .withName("dbo.data_source_table")
                                            .withSchema(
                                                Arrays
                                                    .asList(
                                                        new MapperTableSchema()
                                                            .withName("PersonID")
                                                            .withDataType("integer"),
                                                        new MapperTableSchema().withName("Name").withDataType("string"),
                                                        new MapperTableSchema()
                                                            .withName("LastModifytime")
                                                            .withDataType("timestamp")))
                                            .withDslConnectorProperties(
                                                Arrays
                                                    .asList(
                                                        new MapperDslConnectorProperties()
                                                            .withName("schemaName")
                                                            .withValue("dbo"),
                                                        new MapperDslConnectorProperties()
                                                            .withName("tableName")
                                                            .withValue("data_source_table"),
                                                        new MapperDslConnectorProperties()
                                                            .withName("allowSchemaDrift")
                                                            .withValue(false),
                                                        new MapperDslConnectorProperties()
                                                            .withName("inferDriftedColumnTypes")
                                                            .withValue(false),
                                                        new MapperDslConnectorProperties()
                                                            .withName("defaultToUpsert")
                                                            .withValue(false)))))
                            .withConnection(
                                new MapperConnection()
                                    .withLinkedService(new LinkedServiceReference().withReferenceName("amjaSql"))
                                    .withLinkedServiceType("AzureSqlDatabase")
                                    .withType(ConnectionType.LINKEDSERVICETYPE)
                                    .withIsInlineDataset(true)
                                    .withCommonDslConnectorProperties(
                                        Arrays
                                            .asList(
                                                new MapperDslConnectorProperties()
                                                    .withName("allowSchemaDrift")
                                                    .withValue(true),
                                                new MapperDslConnectorProperties()
                                                    .withName("inferDriftedColumnTypes")
                                                    .withValue(true),
                                                new MapperDslConnectorProperties()
                                                    .withName("format")
                                                    .withValue("table"),
                                                new MapperDslConnectorProperties()
                                                    .withName("store")
                                                    .withValue("sqlserver"),
                                                new MapperDslConnectorProperties()
                                                    .withName("databaseType")
                                                    .withValue("databaseType"),
                                                new MapperDslConnectorProperties()
                                                    .withName("database")
                                                    .withValue("database"),
                                                new MapperDslConnectorProperties()
                                                    .withName("deletable")
                                                    .withValue(false),
                                                new MapperDslConnectorProperties()
                                                    .withName("insertable")
                                                    .withValue(true),
                                                new MapperDslConnectorProperties()
                                                    .withName("updateable")
                                                    .withValue(false),
                                                new MapperDslConnectorProperties()
                                                    .withName("upsertable")
                                                    .withValue(false),
                                                new MapperDslConnectorProperties()
                                                    .withName("skipDuplicateMapInputs")
                                                    .withValue(true),
                                                new MapperDslConnectorProperties()
                                                    .withName("skipDuplicateMapOutputs")
                                                    .withValue(true))))
                            .withDataMapperMappings(
                                Arrays
                                    .asList(
                                        new DataMapperMapping()
                                            .withTargetEntityName("dbo.customer")
                                            .withSourceEntityName("source/customer")
                                            .withSourceConnectionReference(
                                                new MapperConnectionReference()
                                                    .withConnectionName("amjaAdls03")
                                                    .withType(ConnectionType.LINKEDSERVICETYPE))
                                            .withAttributeMappingInfo(
                                                new MapperAttributeMappings().withAttributeMappings(Arrays.asList())),
                                        new DataMapperMapping()
                                            .withTargetEntityName("dbo.data_source_table")
                                            .withSourceEntityName("lookup")
                                            .withSourceConnectionReference(
                                                new MapperConnectionReference()
                                                    .withConnectionName("amjaAdls03")
                                                    .withType(ConnectionType.LINKEDSERVICETYPE))
                                            .withAttributeMappingInfo(
                                                new MapperAttributeMappings()
                                                    .withAttributeMappings(
                                                        Arrays
                                                            .asList(
                                                                new MapperAttributeMapping()
                                                                    .withName("Name")
                                                                    .withType(MappingType.DERIVED)
                                                                    .withFunctionName("upper")
                                                                    .withExpression("upper(EmpName)")
                                                                    .withAttributeReferences(
                                                                        Arrays
                                                                            .asList(
                                                                                new MapperAttributeReference()
                                                                                    .withName("EmpName")
                                                                                    .withEntity("lookup")
                                                                                    .withEntityConnectionReference(
                                                                                        new MapperConnectionReference()
                                                                                            .withConnectionName(
                                                                                                "amjaAdls03")
                                                                                            .withType(
                                                                                                ConnectionType
                                                                                                    .LINKEDSERVICETYPE)))),
                                                                new MapperAttributeMapping()
                                                                    .withName("PersonID")
                                                                    .withType(MappingType.DIRECT)
                                                                    .withFunctionName("")
                                                                    .withAttributeReference(
                                                                        new MapperAttributeReference()
                                                                            .withName("EmpId")
                                                                            .withEntity("lookup")
                                                                            .withEntityConnectionReference(
                                                                                new MapperConnectionReference()
                                                                                    .withConnectionName("amjaAdls03")
                                                                                    .withType(
                                                                                        ConnectionType
                                                                                            .LINKEDSERVICETYPE)))))),
                                        new DataMapperMapping()
                                            .withTargetEntityName("dbo.employee")
                                            .withSourceEntityName("source/employee")
                                            .withSourceConnectionReference(
                                                new MapperConnectionReference()
                                                    .withConnectionName("amjaAdls03")
                                                    .withType(ConnectionType.LINKEDSERVICETYPE))
                                            .withAttributeMappingInfo(
                                                new MapperAttributeMappings().withAttributeMappings(Arrays.asList())),
                                        new DataMapperMapping()
                                            .withTargetEntityName("dbo.justSchema")
                                            .withSourceEntityName("source/justSchema")
                                            .withSourceConnectionReference(
                                                new MapperConnectionReference()
                                                    .withConnectionName("amjaAdls03")
                                                    .withType(ConnectionType.LINKEDSERVICETYPE))
                                            .withAttributeMappingInfo(
                                                new MapperAttributeMappings()
                                                    .withAttributeMappings(
                                                        Arrays
                                                            .asList(
                                                                new MapperAttributeMapping()
                                                                    .withName("CustAddres")
                                                                    .withType(MappingType.DERIVED)
                                                                    .withFunctionName("trim")
                                                                    .withExpression("trim(CustAddres)")
                                                                    .withAttributeReferences(
                                                                        Arrays
                                                                            .asList(
                                                                                new MapperAttributeReference()
                                                                                    .withName("CustAddres")
                                                                                    .withEntity("source/justSchema")
                                                                                    .withEntityConnectionReference(
                                                                                        new MapperConnectionReference()
                                                                                            .withConnectionName(
                                                                                                "amjaAdls03")
                                                                                            .withType(
                                                                                                ConnectionType
                                                                                                    .LINKEDSERVICETYPE)))),
                                                                new MapperAttributeMapping()
                                                                    .withName("CustDepLoc")
                                                                    .withType(MappingType.DIRECT)
                                                                    .withAttributeReference(
                                                                        new MapperAttributeReference()
                                                                            .withName("CustDepLoc")
                                                                            .withEntity("source/justSchema")
                                                                            .withEntityConnectionReference(
                                                                                new MapperConnectionReference()
                                                                                    .withConnectionName("amjaAdls03")
                                                                                    .withType(
                                                                                        ConnectionType
                                                                                            .LINKEDSERVICETYPE))),
                                                                new MapperAttributeMapping()
                                                                    .withName("CustDepName")
                                                                    .withType(MappingType.DERIVED)
                                                                    .withFunctionName("")
                                                                    .withExpression(
                                                                        "concat(CustName, \" -> \", CustDepName)")
                                                                    .withAttributeReferences(
                                                                        Arrays
                                                                            .asList(
                                                                                new MapperAttributeReference()
                                                                                    .withName("CustName")
                                                                                    .withEntity("source/justSchema")
                                                                                    .withEntityConnectionReference(
                                                                                        new MapperConnectionReference()
                                                                                            .withConnectionName(
                                                                                                "amjaAdls03")
                                                                                            .withType(
                                                                                                ConnectionType
                                                                                                    .LINKEDSERVICETYPE)),
                                                                                new MapperAttributeReference()
                                                                                    .withName("CustDepName")
                                                                                    .withEntity("source/justSchema")
                                                                                    .withEntityConnectionReference(
                                                                                        new MapperConnectionReference()
                                                                                            .withConnectionName(
                                                                                                "amjaAdls03")
                                                                                            .withType(
                                                                                                ConnectionType
                                                                                                    .LINKEDSERVICETYPE)))),
                                                                new MapperAttributeMapping()
                                                                    .withName("CustId")
                                                                    .withType(MappingType.DIRECT)
                                                                    .withFunctionName("")
                                                                    .withAttributeReference(
                                                                        new MapperAttributeReference()
                                                                            .withName("CustId")
                                                                            .withEntity("source/justSchema")
                                                                            .withEntityConnectionReference(
                                                                                new MapperConnectionReference()
                                                                                    .withConnectionName("amjaAdls03")
                                                                                    .withType(
                                                                                        ConnectionType
                                                                                            .LINKEDSERVICETYPE))),
                                                                new MapperAttributeMapping()
                                                                    .withName("CustName")
                                                                    .withType(MappingType.DIRECT)
                                                                    .withAttributeReference(
                                                                        new MapperAttributeReference()
                                                                            .withName("CustName")
                                                                            .withEntity("source/justSchema")
                                                                            .withEntityConnectionReference(
                                                                                new MapperConnectionReference()
                                                                                    .withConnectionName("amjaAdls03")
                                                                                    .withType(
                                                                                        ConnectionType
                                                                                            .LINKEDSERVICETYPE))))))))
                            .withRelationships(Arrays.asList())))
            .withPolicy(
                new MapperPolicy()
                    .withMode("Microbatch")
                    .withRecurrence(new MapperPolicyRecurrence().withFrequency(FrequencyType.MINUTE).withInterval(15)))
            .withDescription(
                "Sample demo change data capture to transfer data from delimited (csv) to Azure SQL Database with"
                    + " automapped and non-automapped mappings.")
            .withAllowVNetOverride(false)
            .create();
    }

    /*
     * x-ms-original-file: specification/datafactory/resource-manager/Microsoft.DataFactory/stable/2018-06-01/examples/ChangeDataCapture_Update.json
     */
    /**
     * Sample code: ChangeDataCapture_Update.
     *
     * @param manager Entry point to DataFactoryManager.
     */
    public static void changeDataCaptureUpdate(com.azure.resourcemanager.datafactory.DataFactoryManager manager)
        throws IOException {
        ChangeDataCaptureResource resource =
            manager
                .changeDataCaptures()
                .getWithResponse(
                    "exampleResourceGroup",
                    "exampleFactoryName",
                    "exampleChangeDataCapture",
                    null,
                    com.azure.core.util.Context.NONE)
                .getValue();
        resource
            .update()
            .withDescription(
                "Sample demo change data capture to transfer data from delimited (csv) to Azure SQL Database. Updating"
                    + " table mappings.")
            .withSourceConnectionsInfo(
                Arrays
                    .asList(
                        new MapperSourceConnectionsInfo()
                            .withSourceEntities(
                                Arrays
                                    .asList(
                                        new MapperTable()
                                            .withName("source/customer")
                                            .withSchema(
                                                Arrays
                                                    .asList(
                                                        new MapperTableSchema()
                                                            .withName("CustId")
                                                            .withDataType("short"),
                                                        new MapperTableSchema()
                                                            .withName("CustName")
                                                            .withDataType("string"),
                                                        new MapperTableSchema()
                                                            .withName("CustAddres")
                                                            .withDataType("string"),
                                                        new MapperTableSchema()
                                                            .withName("CustDepName")
                                                            .withDataType("string"),
                                                        new MapperTableSchema()
                                                            .withName("CustDepLoc")
                                                            .withDataType("string")))
                                            .withDslConnectorProperties(
                                                Arrays
                                                    .asList(
                                                        new MapperDslConnectorProperties()
                                                            .withName("container")
                                                            .withValue("source"),
                                                        new MapperDslConnectorProperties()
                                                            .withName("fileSystem")
                                                            .withValue("source"),
                                                        new MapperDslConnectorProperties()
                                                            .withName("folderPath")
                                                            .withValue("customer"),
                                                        new MapperDslConnectorProperties()
                                                            .withName("allowSchemaDrift")
                                                            .withValue(false),
                                                        new MapperDslConnectorProperties()
                                                            .withName("inferDriftedColumnTypes")
                                                            .withValue(false))),
                                        new MapperTable()
                                            .withName("source/employee")
                                            .withSchema(Arrays.asList())
                                            .withDslConnectorProperties(
                                                Arrays
                                                    .asList(
                                                        new MapperDslConnectorProperties()
                                                            .withName("container")
                                                            .withValue("source"),
                                                        new MapperDslConnectorProperties()
                                                            .withName("fileSystem")
                                                            .withValue("source"),
                                                        new MapperDslConnectorProperties()
                                                            .withName("folderPath")
                                                            .withValue("employee"))),
                                        new MapperTable()
                                            .withName("lookup")
                                            .withSchema(
                                                Arrays
                                                    .asList(
                                                        new MapperTableSchema().withName("EmpId").withDataType("short"),
                                                        new MapperTableSchema()
                                                            .withName("EmpName")
                                                            .withDataType("string"),
                                                        new MapperTableSchema()
                                                            .withName("HomeAddress")
                                                            .withDataType("string"),
                                                        new MapperTableSchema()
                                                            .withName("OfficeAddress")
                                                            .withDataType("string"),
                                                        new MapperTableSchema()
                                                            .withName("EmpPhoneNumber")
                                                            .withDataType("integer"),
                                                        new MapperTableSchema()
                                                            .withName("DepName")
                                                            .withDataType("string"),
                                                        new MapperTableSchema()
                                                            .withName("DepLoc")
                                                            .withDataType("string"),
                                                        new MapperTableSchema()
                                                            .withName("DecimalCol")
                                                            .withDataType("double")))
                                            .withDslConnectorProperties(
                                                Arrays
                                                    .asList(
                                                        new MapperDslConnectorProperties()
                                                            .withName("container")
                                                            .withValue("lookup"),
                                                        new MapperDslConnectorProperties()
                                                            .withName("fileSystem")
                                                            .withValue("lookup"),
                                                        new MapperDslConnectorProperties()
                                                            .withName("allowSchemaDrift")
                                                            .withValue(false),
                                                        new MapperDslConnectorProperties()
                                                            .withName("inferDriftedColumnTypes")
                                                            .withValue(false))),
                                        new MapperTable()
                                            .withName("source/justSchema")
                                            .withSchema(
                                                Arrays
                                                    .asList(
                                                        new MapperTableSchema()
                                                            .withName("CustId")
                                                            .withDataType("string"),
                                                        new MapperTableSchema()
                                                            .withName("CustName")
                                                            .withDataType("string"),
                                                        new MapperTableSchema()
                                                            .withName("CustAddres")
                                                            .withDataType("string"),
                                                        new MapperTableSchema()
                                                            .withName("CustDepName")
                                                            .withDataType("string"),
                                                        new MapperTableSchema()
                                                            .withName("CustDepLoc")
                                                            .withDataType("string")))
                                            .withDslConnectorProperties(
                                                Arrays
                                                    .asList(
                                                        new MapperDslConnectorProperties()
                                                            .withName("container")
                                                            .withValue("source"),
                                                        new MapperDslConnectorProperties()
                                                            .withName("fileSystem")
                                                            .withValue("source"),
                                                        new MapperDslConnectorProperties()
                                                            .withName("folderPath")
                                                            .withValue("justSchema"),
                                                        new MapperDslConnectorProperties()
                                                            .withName("allowSchemaDrift")
                                                            .withValue(false),
                                                        new MapperDslConnectorProperties()
                                                            .withName("inferDriftedColumnTypes")
                                                            .withValue(false)))))
                            .withConnection(
                                new MapperConnection()
                                    .withLinkedService(new LinkedServiceReference().withReferenceName("amjaAdls03"))
                                    .withLinkedServiceType("AzureBlobFS")
                                    .withType(ConnectionType.LINKEDSERVICETYPE)
                                    .withIsInlineDataset(true)
                                    .withCommonDslConnectorProperties(
                                        Arrays
                                            .asList(
                                                new MapperDslConnectorProperties()
                                                    .withName("allowSchemaDrift")
                                                    .withValue(true),
                                                new MapperDslConnectorProperties()
                                                    .withName("inferDriftedColumnTypes")
                                                    .withValue(true),
                                                new MapperDslConnectorProperties()
                                                    .withName("format")
                                                    .withValue("delimited"),
                                                new MapperDslConnectorProperties()
                                                    .withName("dateFormats")
                                                    .withValue(
                                                        SerializerFactory
                                                            .createDefaultManagementSerializerAdapter()
                                                            .deserialize(
                                                                "[\"MM/dd/yyyy\",\"dd/MM/yyyy\",\"yyyy/MM/dd\",\"MM-dd-yyyy\",\"dd-MM-yyyy\",\"yyyy-MM-dd\",\"dd.MM.yyyy\",\"MM.dd.yyyy\",\"yyyy.MM.dd\"]",
                                                                Object.class,
                                                                SerializerEncoding.JSON)),
                                                new MapperDslConnectorProperties()
                                                    .withName("timestampFormats")
                                                    .withValue(
                                                        SerializerFactory
                                                            .createDefaultManagementSerializerAdapter()
                                                            .deserialize(
                                                                "[\"yyyyMMddHHmm\",\"yyyyMMdd"
                                                                    + " HHmm\",\"yyyyMMddHHmmss\",\"yyyyMMdd"
                                                                    + " HHmmss\",\"dd-MM-yyyy HH:mm:ss\",\"dd-MM-yyyy"
                                                                    + " HH:mm\",\"yyyy-M-d"
                                                                    + " H:m:s\",\"yyyy-MM-dd\\\\'T\\\\'HH:mm:ss\\\\'Z\\\\'\",\"yyyy-M-d\\\\'T\\\\'H:m:s\\\\'Z\\\\'\",\"yyyy-M-d\\\\'T\\\\'H:m:s\",\"yyyy-MM-dd\\\\'T\\\\'HH:mm:ss\",\"yyyy-MM-dd"
                                                                    + " HH:mm:ss\",\"yyyy-MM-dd HH:mm\",\"yyyy.MM.dd"
                                                                    + " HH:mm:ss\",\"MM/dd/yyyy HH:mm:ss\",\"M/d/yyyy"
                                                                    + " H:m:s\",\"yyyy/MM/dd HH:mm:ss\",\"yyyy/M/d"
                                                                    + " H:m:s\",\"dd MMM yyyy HH:mm:ss\",\"dd MMMM yyyy"
                                                                    + " HH:mm:ss\",\"d MMM yyyy H:m:s\",\"d MMMM yyyy"
                                                                    + " H:m:s\",\"d-M-yyyy H:m:s\",\"d-M-yyyy"
                                                                    + " H:m\",\"yyyy-M-d H:m\",\"MM/dd/yyyy"
                                                                    + " HH:mm\",\"M/d/yyyy H:m\",\"yyyy/MM/dd"
                                                                    + " HH:mm\",\"yyyy/M/d H:m\",\"dd MMMM yyyy"
                                                                    + " HH:mm\",\"dd MMM yyyy HH:mm\",\"d MMMM yyyy"
                                                                    + " H:m\",\"d MMM yyyy H:m\",\"MM-dd-yyyy hh:mm:ss"
                                                                    + " a\",\"MM-dd-yyyy HH:mm:ss\",\"MM/dd/yyyy"
                                                                    + " hh:mm:ss a\",\"yyyy.MM.dd hh:mm:ss"
                                                                    + " a\",\"MM/dd/yyyy\",\"dd/MM/yyyy\",\"yyyy/MM/dd\",\"MM-dd-yyyy\",\"dd-MM-yyyy\",\"yyyy-MM-dd\",\"dd.MM.yyyy\",\"MM.dd.yyyy\",\"yyyy.MM.dd\"]",
                                                                Object.class,
                                                                SerializerEncoding.JSON)),
                                                new MapperDslConnectorProperties()
                                                    .withName("enableCdc")
                                                    .withValue(true),
                                                new MapperDslConnectorProperties()
                                                    .withName("skipInitialLoad")
                                                    .withValue(true),
                                                new MapperDslConnectorProperties()
                                                    .withName("columnNamesAsHeader")
                                                    .withValue(true),
                                                new MapperDslConnectorProperties()
                                                    .withName("columnDelimiter")
                                                    .withValue(","),
                                                new MapperDslConnectorProperties()
                                                    .withName("escapeChar")
                                                    .withValue("\\\\"),
                                                new MapperDslConnectorProperties()
                                                    .withName("quoteChar")
                                                    .withValue("\\\""))))))
            .withTargetConnectionsInfo(
                Arrays
                    .asList(
                        new MapperTargetConnectionsInfo()
                            .withTargetEntities(
                                Arrays
                                    .asList(
                                        new MapperTable()
                                            .withName("dbo.employee")
                                            .withSchema(Arrays.asList())
                                            .withDslConnectorProperties(
                                                Arrays
                                                    .asList(
                                                        new MapperDslConnectorProperties()
                                                            .withName("schemaName")
                                                            .withValue("dbo"),
                                                        new MapperDslConnectorProperties()
                                                            .withName("tableName")
                                                            .withValue("employee"))),
                                        new MapperTable()
                                            .withName("dbo.justSchema")
                                            .withSchema(Arrays.asList())
                                            .withDslConnectorProperties(
                                                Arrays
                                                    .asList(
                                                        new MapperDslConnectorProperties()
                                                            .withName("schemaName")
                                                            .withValue("dbo"),
                                                        new MapperDslConnectorProperties()
                                                            .withName("tableName")
                                                            .withValue("justSchema"),
                                                        new MapperDslConnectorProperties()
                                                            .withName("allowSchemaDrift")
                                                            .withValue(true),
                                                        new MapperDslConnectorProperties()
                                                            .withName("inferDriftedColumnTypes")
                                                            .withValue(true))),
                                        new MapperTable()
                                            .withName("dbo.customer")
                                            .withSchema(
                                                Arrays
                                                    .asList(
                                                        new MapperTableSchema()
                                                            .withName("CustId")
                                                            .withDataType("integer"),
                                                        new MapperTableSchema()
                                                            .withName("CustName")
                                                            .withDataType("string"),
                                                        new MapperTableSchema()
                                                            .withName("CustAddres")
                                                            .withDataType("string"),
                                                        new MapperTableSchema()
                                                            .withName("CustDeptName")
                                                            .withDataType("string"),
                                                        new MapperTableSchema()
                                                            .withName("CustEmail")
                                                            .withDataType("string")))
                                            .withDslConnectorProperties(
                                                Arrays
                                                    .asList(
                                                        new MapperDslConnectorProperties()
                                                            .withName("schemaName")
                                                            .withValue("dbo"),
                                                        new MapperDslConnectorProperties()
                                                            .withName("tableName")
                                                            .withValue("customer"),
                                                        new MapperDslConnectorProperties()
                                                            .withName("allowSchemaDrift")
                                                            .withValue(false),
                                                        new MapperDslConnectorProperties()
                                                            .withName("inferDriftedColumnTypes")
                                                            .withValue(false))),
                                        new MapperTable()
                                            .withName("dbo.data_source_table")
                                            .withSchema(
                                                Arrays
                                                    .asList(
                                                        new MapperTableSchema()
                                                            .withName("PersonID")
                                                            .withDataType("integer"),
                                                        new MapperTableSchema().withName("Name").withDataType("string"),
                                                        new MapperTableSchema()
                                                            .withName("LastModifytime")
                                                            .withDataType("timestamp")))
                                            .withDslConnectorProperties(
                                                Arrays
                                                    .asList(
                                                        new MapperDslConnectorProperties()
                                                            .withName("schemaName")
                                                            .withValue("dbo"),
                                                        new MapperDslConnectorProperties()
                                                            .withName("tableName")
                                                            .withValue("data_source_table"),
                                                        new MapperDslConnectorProperties()
                                                            .withName("allowSchemaDrift")
                                                            .withValue(false),
                                                        new MapperDslConnectorProperties()
                                                            .withName("inferDriftedColumnTypes")
                                                            .withValue(false),
                                                        new MapperDslConnectorProperties()
                                                            .withName("defaultToUpsert")
                                                            .withValue(false)))))
                            .withConnection(
                                new MapperConnection()
                                    .withLinkedService(new LinkedServiceReference().withReferenceName("amjaSql"))
                                    .withLinkedServiceType("AzureSqlDatabase")
                                    .withType(ConnectionType.LINKEDSERVICETYPE)
                                    .withIsInlineDataset(true)
                                    .withCommonDslConnectorProperties(
                                        Arrays
                                            .asList(
                                                new MapperDslConnectorProperties()
                                                    .withName("allowSchemaDrift")
                                                    .withValue(true),
                                                new MapperDslConnectorProperties()
                                                    .withName("inferDriftedColumnTypes")
                                                    .withValue(true),
                                                new MapperDslConnectorProperties()
                                                    .withName("format")
                                                    .withValue("table"),
                                                new MapperDslConnectorProperties()
                                                    .withName("store")
                                                    .withValue("sqlserver"),
                                                new MapperDslConnectorProperties()
                                                    .withName("databaseType")
                                                    .withValue("databaseType"),
                                                new MapperDslConnectorProperties()
                                                    .withName("database")
                                                    .withValue("database"),
                                                new MapperDslConnectorProperties()
                                                    .withName("deletable")
                                                    .withValue(false),
                                                new MapperDslConnectorProperties()
                                                    .withName("insertable")
                                                    .withValue(true),
                                                new MapperDslConnectorProperties()
                                                    .withName("updateable")
                                                    .withValue(false),
                                                new MapperDslConnectorProperties()
                                                    .withName("upsertable")
                                                    .withValue(false),
                                                new MapperDslConnectorProperties()
                                                    .withName("skipDuplicateMapInputs")
                                                    .withValue(true),
                                                new MapperDslConnectorProperties()
                                                    .withName("skipDuplicateMapOutputs")
                                                    .withValue(true))))
                            .withDataMapperMappings(
                                Arrays
                                    .asList(
                                        new DataMapperMapping()
                                            .withTargetEntityName("dbo.customer")
                                            .withSourceEntityName("source/customer")
                                            .withSourceConnectionReference(
                                                new MapperConnectionReference()
                                                    .withConnectionName("amjaAdls03")
                                                    .withType(ConnectionType.LINKEDSERVICETYPE))
                                            .withAttributeMappingInfo(
                                                new MapperAttributeMappings()
                                                    .withAttributeMappings(
                                                        Arrays
                                                            .asList(
                                                                new MapperAttributeMapping()
                                                                    .withName("CustAddres")
                                                                    .withType(MappingType.DERIVED)
                                                                    .withFunctionName("trim")
                                                                    .withExpression("trim(CustAddres)")
                                                                    .withAttributeReferences(
                                                                        Arrays
                                                                            .asList(
                                                                                new MapperAttributeReference()
                                                                                    .withName("CustAddres")
                                                                                    .withEntity("source/customer")
                                                                                    .withEntityConnectionReference(
                                                                                        new MapperConnectionReference()
                                                                                            .withConnectionName(
                                                                                                "amjaAdls03")
                                                                                            .withType(
                                                                                                ConnectionType
                                                                                                    .LINKEDSERVICETYPE)))),
                                                                new MapperAttributeMapping()
                                                                    .withName("CustDeptName")
                                                                    .withType(MappingType.DIRECT)
                                                                    .withFunctionName("")
                                                                    .withAttributeReference(
                                                                        new MapperAttributeReference()
                                                                            .withName("CustDepName")
                                                                            .withEntity("source/customer")
                                                                            .withEntityConnectionReference(
                                                                                new MapperConnectionReference()
                                                                                    .withConnectionName("amjaAdls03")
                                                                                    .withType(
                                                                                        ConnectionType
                                                                                            .LINKEDSERVICETYPE))),
                                                                new MapperAttributeMapping()
                                                                    .withName("CustEmail")
                                                                    .withType(MappingType.DIRECT)
                                                                    .withFunctionName("")
                                                                    .withAttributeReference(
                                                                        new MapperAttributeReference()
                                                                            .withName("CustName")
                                                                            .withEntity("source/customer")
                                                                            .withEntityConnectionReference(
                                                                                new MapperConnectionReference()
                                                                                    .withConnectionName("amjaAdls03")
                                                                                    .withType(
                                                                                        ConnectionType
                                                                                            .LINKEDSERVICETYPE))),
                                                                new MapperAttributeMapping()
                                                                    .withName("CustId")
                                                                    .withType(MappingType.DIRECT)
                                                                    .withFunctionName("")
                                                                    .withAttributeReference(
                                                                        new MapperAttributeReference()
                                                                            .withName("CustId")
                                                                            .withEntity("source/customer")
                                                                            .withEntityConnectionReference(
                                                                                new MapperConnectionReference()
                                                                                    .withConnectionName("amjaAdls03")
                                                                                    .withType(
                                                                                        ConnectionType
                                                                                            .LINKEDSERVICETYPE))),
                                                                new MapperAttributeMapping()
                                                                    .withName("CustName")
                                                                    .withType(MappingType.DIRECT)
                                                                    .withFunctionName("")
                                                                    .withAttributeReference(
                                                                        new MapperAttributeReference()
                                                                            .withName("CustName")
                                                                            .withEntity("source/customer")
                                                                            .withEntityConnectionReference(
                                                                                new MapperConnectionReference()
                                                                                    .withConnectionName("amjaAdls03")
                                                                                    .withType(
                                                                                        ConnectionType
                                                                                            .LINKEDSERVICETYPE)))))),
                                        new DataMapperMapping()
                                            .withTargetEntityName("dbo.data_source_table")
                                            .withSourceEntityName("lookup")
                                            .withSourceConnectionReference(
                                                new MapperConnectionReference()
                                                    .withConnectionName("amjaAdls03")
                                                    .withType(ConnectionType.LINKEDSERVICETYPE))
                                            .withAttributeMappingInfo(
                                                new MapperAttributeMappings()
                                                    .withAttributeMappings(
                                                        Arrays
                                                            .asList(
                                                                new MapperAttributeMapping()
                                                                    .withName("Name")
                                                                    .withType(MappingType.DERIVED)
                                                                    .withFunctionName("upper")
                                                                    .withExpression("upper(EmpName)")
                                                                    .withAttributeReferences(
                                                                        Arrays
                                                                            .asList(
                                                                                new MapperAttributeReference()
                                                                                    .withName("EmpName")
                                                                                    .withEntity("lookup")
                                                                                    .withEntityConnectionReference(
                                                                                        new MapperConnectionReference()
                                                                                            .withConnectionName(
                                                                                                "amjaAdls03")
                                                                                            .withType(
                                                                                                ConnectionType
                                                                                                    .LINKEDSERVICETYPE)))),
                                                                new MapperAttributeMapping()
                                                                    .withName("PersonID")
                                                                    .withType(MappingType.DIRECT)
                                                                    .withFunctionName("")
                                                                    .withAttributeReference(
                                                                        new MapperAttributeReference()
                                                                            .withName("EmpId")
                                                                            .withEntity("lookup")
                                                                            .withEntityConnectionReference(
                                                                                new MapperConnectionReference()
                                                                                    .withConnectionName("amjaAdls03")
                                                                                    .withType(
                                                                                        ConnectionType
                                                                                            .LINKEDSERVICETYPE)))))),
                                        new DataMapperMapping()
                                            .withTargetEntityName("dbo.employee")
                                            .withSourceEntityName("source/employee")
                                            .withSourceConnectionReference(
                                                new MapperConnectionReference()
                                                    .withConnectionName("amjaAdls03")
                                                    .withType(ConnectionType.LINKEDSERVICETYPE))
                                            .withAttributeMappingInfo(
                                                new MapperAttributeMappings().withAttributeMappings(Arrays.asList())),
                                        new DataMapperMapping()
                                            .withTargetEntityName("dbo.justSchema")
                                            .withSourceEntityName("source/justSchema")
                                            .withSourceConnectionReference(
                                                new MapperConnectionReference()
                                                    .withConnectionName("amjaAdls03")
                                                    .withType(ConnectionType.LINKEDSERVICETYPE))
                                            .withAttributeMappingInfo(
                                                new MapperAttributeMappings()
                                                    .withAttributeMappings(
                                                        Arrays
                                                            .asList(
                                                                new MapperAttributeMapping()
                                                                    .withName("CustAddres")
                                                                    .withType(MappingType.DERIVED)
                                                                    .withFunctionName("trim")
                                                                    .withExpression("trim(CustAddres)")
                                                                    .withAttributeReferences(
                                                                        Arrays
                                                                            .asList(
                                                                                new MapperAttributeReference()
                                                                                    .withName("CustAddres")
                                                                                    .withEntity("source/justSchema")
                                                                                    .withEntityConnectionReference(
                                                                                        new MapperConnectionReference()
                                                                                            .withConnectionName(
                                                                                                "amjaAdls03")
                                                                                            .withType(
                                                                                                ConnectionType
                                                                                                    .LINKEDSERVICETYPE)))),
                                                                new MapperAttributeMapping()
                                                                    .withName("CustDepLoc")
                                                                    .withType(MappingType.DIRECT)
                                                                    .withAttributeReference(
                                                                        new MapperAttributeReference()
                                                                            .withName("CustDepLoc")
                                                                            .withEntity("source/justSchema")
                                                                            .withEntityConnectionReference(
                                                                                new MapperConnectionReference()
                                                                                    .withConnectionName("amjaAdls03")
                                                                                    .withType(
                                                                                        ConnectionType
                                                                                            .LINKEDSERVICETYPE))),
                                                                new MapperAttributeMapping()
                                                                    .withName("CustDepName")
                                                                    .withType(MappingType.DERIVED)
                                                                    .withFunctionName("")
                                                                    .withExpression(
                                                                        "concat(CustName, \" -> \", CustDepName)")
                                                                    .withAttributeReferences(
                                                                        Arrays
                                                                            .asList(
                                                                                new MapperAttributeReference()
                                                                                    .withName("CustName")
                                                                                    .withEntity("source/justSchema")
                                                                                    .withEntityConnectionReference(
                                                                                        new MapperConnectionReference()
                                                                                            .withConnectionName(
                                                                                                "amjaAdls03")
                                                                                            .withType(
                                                                                                ConnectionType
                                                                                                    .LINKEDSERVICETYPE)),
                                                                                new MapperAttributeReference()
                                                                                    .withName("CustDepName")
                                                                                    .withEntity("source/justSchema")
                                                                                    .withEntityConnectionReference(
                                                                                        new MapperConnectionReference()
                                                                                            .withConnectionName(
                                                                                                "amjaAdls03")
                                                                                            .withType(
                                                                                                ConnectionType
                                                                                                    .LINKEDSERVICETYPE)))),
                                                                new MapperAttributeMapping()
                                                                    .withName("CustId")
                                                                    .withType(MappingType.DIRECT)
                                                                    .withFunctionName("")
                                                                    .withAttributeReference(
                                                                        new MapperAttributeReference()
                                                                            .withName("CustId")
                                                                            .withEntity("source/justSchema")
                                                                            .withEntityConnectionReference(
                                                                                new MapperConnectionReference()
                                                                                    .withConnectionName("amjaAdls03")
                                                                                    .withType(
                                                                                        ConnectionType
                                                                                            .LINKEDSERVICETYPE))),
                                                                new MapperAttributeMapping()
                                                                    .withName("CustName")
                                                                    .withType(MappingType.DIRECT)
                                                                    .withAttributeReference(
                                                                        new MapperAttributeReference()
                                                                            .withName("CustName")
                                                                            .withEntity("source/justSchema")
                                                                            .withEntityConnectionReference(
                                                                                new MapperConnectionReference()
                                                                                    .withConnectionName("amjaAdls03")
                                                                                    .withType(
                                                                                        ConnectionType
                                                                                            .LINKEDSERVICETYPE))))))))
                            .withRelationships(Arrays.asList())))
            .withPolicy(
                new MapperPolicy()
                    .withMode("Microbatch")
                    .withRecurrence(new MapperPolicyRecurrence().withFrequency(FrequencyType.MINUTE).withInterval(15)))
            .withAllowVNetOverride(false)
            .withStatus("Stopped")
            .apply();
    }
}
