// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) AutoRest Code Generator.

package com.azure.resourcemanager.compute.generated.generated;

import com.azure.resourcemanager.compute.generated.models.GalleryScriptParameter;
import com.azure.resourcemanager.compute.generated.models.GalleryScriptParameterType;
import com.azure.resourcemanager.compute.generated.models.GalleryScriptVersion;
import com.azure.resourcemanager.compute.generated.models.GalleryScriptVersionProperties;
import com.azure.resourcemanager.compute.generated.models.GalleryScriptVersionPublishingProfile;
import com.azure.resourcemanager.compute.generated.models.GalleryScriptVersionSafetyProfile;
import com.azure.resourcemanager.compute.generated.models.ScriptSource;
import com.azure.resourcemanager.compute.generated.models.StorageAccountType;
import com.azure.resourcemanager.compute.generated.models.TargetRegion;
import java.time.OffsetDateTime;
import java.util.Arrays;

/**
 * Samples for GalleryScriptVersions Update.
 */
public final class GalleryScriptVersionsUpdateSamples {
    /*
     * x-ms-original-file:
     * specification/compute/resource-manager/Microsoft.Compute/GalleryRP/stable/2025-03-03/examples/galleryExamples/
     * GalleryScriptVersion_Update.json
     */
    /**
     * Sample code: Update a simple gallery Script Version.
     * 
     * @param manager Entry point to ComputeManager.
     */
    public static void
        updateASimpleGalleryScriptVersion(com.azure.resourcemanager.compute.generated.ComputeManager manager) {
        GalleryScriptVersion resource = manager.galleryScriptVersions()
            .getWithResponse("myResourceGroupName", "myGalleryName", "myGalleryScriptName", "1.0.0",
                com.azure.core.util.Context.NONE)
            .getValue();
        resource.update()
            .withProperties(new GalleryScriptVersionProperties()
                .withPublishingProfile(new GalleryScriptVersionPublishingProfile()
                    .withTargetRegions(Arrays.asList(new TargetRegion().withName("West US")
                        .withRegionalReplicaCount(2)
                        .withStorageAccountType(StorageAccountType.STANDARD_LRS)
                        .withExcludeFromLatest(false)))
                    .withReplicaCount(2)
                    .withEndOfLifeDate(OffsetDateTime.parse("2027-07-01T07:00:00Z"))
                    .withStorageAccountType(StorageAccountType.STANDARD_LRS)
                    .withSource(new ScriptSource()
                        .withScriptLink(
                            "https://mystorageaccount.blob.core.windows.net/mycontainer/myScript.ps1?{sasKey}")
                        .withParameters(Arrays.asList(
                            new GalleryScriptParameter().withName("location")
                                .withRequired(true)
                                .withDefaultValue("westus")
                                .withType(GalleryScriptParameterType.STRING),
                            new GalleryScriptParameter().withName("myGalleryScriptParameter1")
                                .withRequired(true)
                                .withDefaultValue("default value of parameter")
                                .withDescription("description of the parameter")
                                .withType(GalleryScriptParameterType.STRING),
                            new GalleryScriptParameter().withName("myGalleryScriptParameter2")
                                .withRequired(false)
                                .withDefaultValue("default value of parameter")
                                .withDescription("description of the parameter")
                                .withType(GalleryScriptParameterType.STRING),
                            new GalleryScriptParameter().withName("numberOfUnits")
                                .withRequired(true)
                                .withDefaultValue("3")
                                .withDescription("description of the parameter")
                                .withType(GalleryScriptParameterType.INT)
                                .withMinValue("1")
                                .withMaxValue("5"),
                            new GalleryScriptParameter().withName("weightOfUnit")
                                .withRequired(true)
                                .withDefaultValue("0.6")
                                .withDescription("description of the parameter")
                                .withType(GalleryScriptParameterType.DOUBLE)
                                .withMinValue("0.1")
                                .withMaxValue("2"),
                            new GalleryScriptParameter().withName("typeOfProduct")
                                .withRequired(false)
                                .withDefaultValue("Fruit")
                                .withDescription("description of the parameter")
                                .withType(GalleryScriptParameterType.ENUM)
                                .withEnumValues(Arrays.asList("Fruit", "Vegetable", "Greens", "Nuts"))))))
                .withSafetyProfile(
                    new GalleryScriptVersionSafetyProfile().withAllowDeletionOfReplicatedLocations(false)))
            .apply();
    }
}
