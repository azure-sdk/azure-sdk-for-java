// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) TypeSpec Code Generator.

package com.azure.resourcemanager.informaticadatamanagement.generated;

import com.azure.core.credential.AccessToken;
import com.azure.core.http.HttpClient;
import com.azure.core.management.profile.AzureProfile;
import com.azure.core.models.AzureCloud;
import com.azure.core.test.http.MockHttpResponse;
import com.azure.resourcemanager.informaticadatamanagement.InformaticaDataManagementManager;
import com.azure.resourcemanager.informaticadatamanagement.models.PlatformType;
import com.azure.resourcemanager.informaticadatamanagement.models.RuntimeType;
import com.azure.resourcemanager.informaticadatamanagement.models.ServerlessMetadataResponse;
import java.nio.charset.StandardCharsets;
import java.time.OffsetDateTime;
import org.junit.jupiter.api.Assertions;
import org.junit.jupiter.api.Test;
import reactor.core.publisher.Mono;

public final class OrganizationsGetServerlessMetadataWithResponseMockTests {
    @Test
    public void testGetServerlessMetadataWithResponse() throws Exception {
        String responseStr
            = "{\"type\":\"SERVERLESS\",\"serverlessConfigProperties\":{\"platform\":\"AZURE\",\"applicationTypes\":[{\"name\":\"lqwjygvjayvblm\",\"value\":\"k\"},{\"name\":\"hbxvvyhgsopbyrqu\",\"value\":\"g\"}],\"computeUnits\":[{\"name\":\"zfbn\",\"value\":[\"ctlpdngitvgb\",\"hrixkwmy\",\"jejveg\"]}],\"executionTimeout\":\"bpnaixexccbdre\",\"regions\":[{\"id\":\"exdrrvqahqkg\",\"name\":\"pwijnhy\"},{\"id\":\"vfycxzb\",\"name\":\"oowvrv\"},{\"id\":\"gjqppy\",\"name\":\"tronzmyhgfi\"}]},\"serverlessRuntimeConfigProperties\":{\"cdiConfigProps\":[{\"engineName\":\"kmcwaekrrjreafx\",\"engineVersion\":\"sgumhjglikkxwsl\",\"applicationConfigs\":[{\"type\":\"bq\",\"name\":\"vuzlm\",\"value\":\"felfktg\",\"platform\":\"lcrpw\",\"customized\":\"xeznoi\",\"defaultValue\":\"brnjwmw\"},{\"type\":\"pn\",\"name\":\"saz\",\"value\":\"jjoqkagf\",\"platform\":\"sxtta\",\"customized\":\"gzxnfaazpxdtnk\",\"defaultValue\":\"mkqjj\"},{\"type\":\"wuenvr\",\"name\":\"pyouaibrebqaays\",\"value\":\"kixqtnqtt\",\"platform\":\"zlwfffiakp\",\"customized\":\"pqqmted\",\"defaultValue\":\"tmmjihyeozph\"},{\"type\":\"wau\",\"name\":\"qncygupkvi\",\"value\":\"mdscwxqupev\",\"platform\":\"hfstotxhojujbyp\",\"customized\":\"lmcuvhixb\",\"defaultValue\":\"xyfwnylrcool\"}]},{\"engineName\":\"ttpkiwkkbnujrywv\",\"engineVersion\":\"y\",\"applicationConfigs\":[{\"type\":\"fpncurdo\",\"name\":\"wiithtywub\",\"value\":\"cbihwqk\",\"platform\":\"fdntwjchrdgoih\",\"customized\":\"umwctondz\",\"defaultValue\":\"luudfdlwggytsb\"},{\"type\":\"tov\",\"name\":\"tgseinqfiufxqkn\",\"value\":\"irgne\",\"platform\":\"ttwqmsni\",\"customized\":\"fcdmqnrojlpijn\",\"defaultValue\":\"rxfrddhc\"},{\"type\":\"atiz\",\"name\":\"ronasxift\",\"value\":\"zq\",\"platform\":\"zh\",\"customized\":\"tw\",\"defaultValue\":\"sgogczhonnxk\"}]},{\"engineName\":\"lgnyhmo\",\"engineVersion\":\"sxkkg\",\"applicationConfigs\":[{\"type\":\"rrghxjbdhqxvcxgf\",\"name\":\"pdso\",\"value\":\"bshrnsvbuswd\",\"platform\":\"z\",\"customized\":\"ybycnunvj\",\"defaultValue\":\"rtkfawnopq\"}]},{\"engineName\":\"ikyzirtxdy\",\"engineVersion\":\"x\",\"applicationConfigs\":[{\"type\":\"jntpsewgioilqu\",\"name\":\"rydxtqm\",\"value\":\"eoxorggufhyao\",\"platform\":\"tbghhavgrvkf\",\"customized\":\"ovjzhpjbibgjmfx\",\"defaultValue\":\"mv\"}]}],\"cdieConfigProps\":[{\"engineName\":\"uyovw\",\"engineVersion\":\"nbkfezzxscy\",\"applicationConfigs\":[{\"type\":\"zdgiruj\",\"name\":\"zbomvzzbtdcqvpni\",\"value\":\"ujviylwdshfs\",\"platform\":\"n\",\"customized\":\"bgye\",\"defaultValue\":\"rymsgaojfmw\"},{\"type\":\"cotmr\",\"name\":\"hirctymoxoftpipi\",\"value\":\"yczuhxacpq\",\"platform\":\"lihhyuspskasdvlm\",\"customized\":\"wdgzxulucv\",\"defaultValue\":\"amrsreuzv\"},{\"type\":\"urisjnhnytxifqj\",\"name\":\"gxmrhublwp\",\"value\":\"esutrgjupauutpw\",\"platform\":\"qhih\",\"customized\":\"jqgwzp\",\"defaultValue\":\"fqntcyp\"}]},{\"engineName\":\"xjvfoimwksl\",\"engineVersion\":\"rcizjxvyd\",\"applicationConfigs\":[{\"type\":\"eacvl\",\"name\":\"vygdyft\",\"value\":\"mrtwna\",\"platform\":\"jslb\",\"customized\":\"wkojgcyztsfmzn\",\"defaultValue\":\"aeqphchqnr\"},{\"type\":\"rpxeh\",\"name\":\"wrykqgai\",\"value\":\"mvikl\",\"platform\":\"ydv\",\"customized\":\"hbejdznxcvdsrhnj\",\"defaultValue\":\"volvtn\"},{\"type\":\"v\",\"name\":\"fzg\",\"value\":\"mjdftu\",\"platform\":\"jltduceam\",\"customized\":\"mczuo\",\"defaultValue\":\"ejwcwwqiok\"}]},{\"engineName\":\"ssxmojms\",\"engineVersion\":\"p\",\"applicationConfigs\":[{\"type\":\"prvkwcfzqljyxgtc\",\"name\":\"heyd\",\"value\":\"sdshmkxmaehvb\",\"platform\":\"xu\",\"customized\":\"iplt\",\"defaultValue\":\"n\"}]},{\"engineName\":\"tbaxk\",\"engineVersion\":\"xywr\",\"applicationConfigs\":[{\"type\":\"pyklyhpluodpvru\",\"name\":\"dlgzibthostgkt\",\"value\":\"tvdxeclzedqb\",\"platform\":\"vh\",\"customized\":\"lhpl\",\"defaultValue\":\"dqkdlwwqfbu\"},{\"type\":\"lkxt\",\"name\":\"qjfsmlmbtxhw\",\"value\":\"fwsrtawcoezbrhu\",\"platform\":\"skh\",\"customized\":\"dyg\",\"defaultValue\":\"ookk\"}]}]}}";

        HttpClient httpClient
            = response -> Mono.just(new MockHttpResponse(response, 200, responseStr.getBytes(StandardCharsets.UTF_8)));
        InformaticaDataManagementManager manager = InformaticaDataManagementManager.configure()
            .withHttpClient(httpClient)
            .authenticate(tokenRequestContext -> Mono.just(new AccessToken("this_is_a_token", OffsetDateTime.MAX)),
                new AzureProfile("", "", AzureCloud.AZURE_PUBLIC_CLOUD));

        ServerlessMetadataResponse response = manager.organizations()
            .getServerlessMetadataWithResponse("atjinrvgoupmfiib", "ggjioolvr", com.azure.core.util.Context.NONE)
            .getValue();

        Assertions.assertEquals(RuntimeType.SERVERLESS, response.type());
        Assertions.assertEquals(PlatformType.AZURE, response.serverlessConfigProperties().platform());
        Assertions.assertEquals("lqwjygvjayvblm",
            response.serverlessConfigProperties().applicationTypes().get(0).name());
        Assertions.assertEquals("k", response.serverlessConfigProperties().applicationTypes().get(0).value());
        Assertions.assertEquals("zfbn", response.serverlessConfigProperties().computeUnits().get(0).name());
        Assertions.assertEquals("ctlpdngitvgb",
            response.serverlessConfigProperties().computeUnits().get(0).value().get(0));
        Assertions.assertEquals("bpnaixexccbdre", response.serverlessConfigProperties().executionTimeout());
        Assertions.assertEquals("exdrrvqahqkg", response.serverlessConfigProperties().regions().get(0).id());
        Assertions.assertEquals("pwijnhy", response.serverlessConfigProperties().regions().get(0).name());
        Assertions.assertEquals("kmcwaekrrjreafx",
            response.serverlessRuntimeConfigProperties().cdiConfigProps().get(0).engineName());
        Assertions.assertEquals("sgumhjglikkxwsl",
            response.serverlessRuntimeConfigProperties().cdiConfigProps().get(0).engineVersion());
        Assertions.assertEquals("bq",
            response.serverlessRuntimeConfigProperties().cdiConfigProps().get(0).applicationConfigs().get(0).type());
        Assertions.assertEquals("vuzlm",
            response.serverlessRuntimeConfigProperties().cdiConfigProps().get(0).applicationConfigs().get(0).name());
        Assertions.assertEquals("felfktg",
            response.serverlessRuntimeConfigProperties().cdiConfigProps().get(0).applicationConfigs().get(0).value());
        Assertions.assertEquals("lcrpw",
            response.serverlessRuntimeConfigProperties()
                .cdiConfigProps()
                .get(0)
                .applicationConfigs()
                .get(0)
                .platform());
        Assertions.assertEquals("xeznoi",
            response.serverlessRuntimeConfigProperties()
                .cdiConfigProps()
                .get(0)
                .applicationConfigs()
                .get(0)
                .customized());
        Assertions.assertEquals("brnjwmw",
            response.serverlessRuntimeConfigProperties()
                .cdiConfigProps()
                .get(0)
                .applicationConfigs()
                .get(0)
                .defaultValue());
        Assertions.assertEquals("uyovw",
            response.serverlessRuntimeConfigProperties().cdieConfigProps().get(0).engineName());
        Assertions.assertEquals("nbkfezzxscy",
            response.serverlessRuntimeConfigProperties().cdieConfigProps().get(0).engineVersion());
        Assertions.assertEquals("zdgiruj",
            response.serverlessRuntimeConfigProperties().cdieConfigProps().get(0).applicationConfigs().get(0).type());
        Assertions.assertEquals("zbomvzzbtdcqvpni",
            response.serverlessRuntimeConfigProperties().cdieConfigProps().get(0).applicationConfigs().get(0).name());
        Assertions.assertEquals("ujviylwdshfs",
            response.serverlessRuntimeConfigProperties().cdieConfigProps().get(0).applicationConfigs().get(0).value());
        Assertions.assertEquals("n",
            response.serverlessRuntimeConfigProperties()
                .cdieConfigProps()
                .get(0)
                .applicationConfigs()
                .get(0)
                .platform());
        Assertions.assertEquals("bgye",
            response.serverlessRuntimeConfigProperties()
                .cdieConfigProps()
                .get(0)
                .applicationConfigs()
                .get(0)
                .customized());
        Assertions.assertEquals("rymsgaojfmw",
            response.serverlessRuntimeConfigProperties()
                .cdieConfigProps()
                .get(0)
                .applicationConfigs()
                .get(0)
                .defaultValue());
    }
}
