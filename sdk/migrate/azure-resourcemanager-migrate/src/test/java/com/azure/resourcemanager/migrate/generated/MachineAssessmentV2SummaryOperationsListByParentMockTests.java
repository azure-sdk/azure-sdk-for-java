// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) TypeSpec Code Generator.

package com.azure.resourcemanager.migrate.generated;

import com.azure.core.credential.AccessToken;
import com.azure.core.http.HttpClient;
import com.azure.core.http.rest.PagedIterable;
import com.azure.core.management.profile.AzureProfile;
import com.azure.core.models.AzureCloud;
import com.azure.core.test.http.MockHttpResponse;
import com.azure.resourcemanager.migrate.MigrateManager;
import com.azure.resourcemanager.migrate.models.MachineAssessmentV2Summary;
import java.nio.charset.StandardCharsets;
import java.time.OffsetDateTime;
import org.junit.jupiter.api.Test;
import reactor.core.publisher.Mono;

public final class MachineAssessmentV2SummaryOperationsListByParentMockTests {
    @Test
    public void testListByParent() throws Exception {
        String responseStr
            = "{\"value\":[{\"properties\":{\"summaryType\":\"Strategy\",\"summaryName\":\"xarzgszufoxciq\",\"sources\":[{\"sourceName\":\"Machine\",\"sourceType\":\"Server\",\"platform\":\"SaaS\",\"count\":1263985401},{\"sourceName\":\"Machine\",\"sourceType\":\"Server\",\"platform\":\"SaaS\",\"count\":1699851993},{\"sourceName\":\"OracleDatabase\",\"sourceType\":\"Database\",\"platform\":\"PaaS\",\"count\":959916144},{\"sourceName\":\"TomCat\",\"sourceType\":\"ManagementServer\",\"platform\":\"IaaS\",\"count\":541688375}],\"targets\":[{\"targetName\":\"AzureAppService\",\"targetType\":\"Database\",\"platform\":\"PaaS\",\"count\":2022074677},{\"targetName\":\"SqlDatabase\",\"targetType\":\"Unknown\",\"platform\":\"SaaS\",\"count\":152154395},{\"targetName\":\"MySQLAzureFlexServer\",\"targetType\":\"Host\",\"platform\":\"PaaS\",\"count\":931216317},{\"targetName\":\"Avs\",\"targetType\":\"Machine\",\"platform\":\"PaaS\",\"count\":1422593899}],\"targetSourceMapping\":[{\"sourceRef\":\"IIS\",\"targetRef\":\"AzureVM\",\"sourceCount\":1275486297,\"targetCount\":1506529335,\"migrationDetails\":{\"readinessSummary\":[{},{}],\"migrationType\":\"Replatform\"},\"managementDetails\":[{},{},{},{}],\"costDetails\":[{}],\"savingsDetails\":[{},{}],\"confidenceScore\":12.377960256454223},{\"sourceRef\":\"OracleServer\",\"targetRef\":\"AzureSpringApps\",\"sourceCount\":1711302582,\"targetCount\":1828204425,\"migrationDetails\":{\"readinessSummary\":[{},{},{},{}],\"migrationType\":\"Rehost\"},\"managementDetails\":[{}],\"costDetails\":[{}],\"savingsDetails\":[{}],\"confidenceScore\":88.82868866859093},{\"sourceRef\":\"OracleServer\",\"targetRef\":\"AzureAppService\",\"sourceCount\":2086518628,\"targetCount\":1790091997,\"migrationDetails\":{\"readinessSummary\":[{},{},{}],\"migrationType\":\"Rearchitect\"},\"managementDetails\":[{}],\"costDetails\":[{}],\"savingsDetails\":[{},{},{},{}],\"confidenceScore\":5.73213357740917},{\"sourceRef\":\"Unknown\",\"targetRef\":\"AKS\",\"sourceCount\":1613422288,\"targetCount\":270021296,\"migrationDetails\":{\"readinessSummary\":[{},{},{},{}],\"migrationType\":\"Rehost\"},\"managementDetails\":[{},{},{}],\"costDetails\":[{},{},{},{}],\"savingsDetails\":[{},{},{},{}],\"confidenceScore\":57.17684280566054}],\"costComponents\":[{\"savingOptions\":\"RI3Year\",\"costDetail\":[{},{}]}],\"savingsComponents\":[{\"savingOptions\":\"SavingsPlan3Year\",\"savingsDetail\":[{}]},{\"savingOptions\":\"CustomAzureOfferCode\",\"savingsDetail\":[{},{},{},{}]},{\"savingOptions\":\"None\",\"savingsDetail\":[{}]}]},\"id\":\"enuuzkopbm\",\"name\":\"nrfdw\",\"type\":\"yuhhziu\"}]}";

        HttpClient httpClient
            = response -> Mono.just(new MockHttpResponse(response, 200, responseStr.getBytes(StandardCharsets.UTF_8)));
        MigrateManager manager = MigrateManager.configure()
            .withHttpClient(httpClient)
            .authenticate(tokenRequestContext -> Mono.just(new AccessToken("this_is_a_token", OffsetDateTime.MAX)),
                new AzureProfile("", "", AzureCloud.AZURE_PUBLIC_CLOUD));

        PagedIterable<MachineAssessmentV2Summary> response = manager.machineAssessmentV2SummaryOperations()
            .listByParent("ongbjcnt", "jitcjedftwwaez", "ojvdcpzfoqo", com.azure.core.util.Context.NONE);

    }
}
