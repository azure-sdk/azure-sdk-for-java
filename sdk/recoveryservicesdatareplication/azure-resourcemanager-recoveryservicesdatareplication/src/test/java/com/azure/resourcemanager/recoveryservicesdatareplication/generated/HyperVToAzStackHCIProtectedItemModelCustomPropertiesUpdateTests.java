// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) TypeSpec Code Generator.

package com.azure.resourcemanager.recoveryservicesdatareplication.generated;

import com.azure.core.util.BinaryData;
import com.azure.resourcemanager.recoveryservicesdatareplication.models.HyperVToAzStackHCINicInput;
import com.azure.resourcemanager.recoveryservicesdatareplication.models.HyperVToAzStackHCIProtectedItemModelCustomPropertiesUpdate;
import com.azure.resourcemanager.recoveryservicesdatareplication.models.ProtectedItemDynamicMemoryConfig;
import com.azure.resourcemanager.recoveryservicesdatareplication.models.VMNicSelection;
import java.util.Arrays;
import org.junit.jupiter.api.Assertions;

public final class HyperVToAzStackHCIProtectedItemModelCustomPropertiesUpdateTests {
    @org.junit.jupiter.api.Test
    public void testDeserialize() throws Exception {
        HyperVToAzStackHCIProtectedItemModelCustomPropertiesUpdate model = BinaryData.fromString(
            "{\"instanceType\":\"HyperVToAzStackHCI\",\"nicsToInclude\":[{\"nicId\":\"cypuuwwlt\",\"networkName\":\"qjctzenkeif\",\"targetNetworkId\":\"hmkdasvfl\",\"testNetworkId\":\"bxcudchx\",\"selectionTypeForFailover\":\"SelectedByDefault\",\"isStaticIpMigrationEnabled\":true,\"isMacMigrationEnabled\":true}],\"targetCpuCores\":82172099,\"isDynamicRam\":true,\"dynamicMemoryConfig\":{\"maximumMemoryInMegaBytes\":3528523255397444871,\"minimumMemoryInMegaBytes\":4860451195425354818,\"targetMemoryBufferPercentage\":2116230034},\"targetMemoryInMegaBytes\":447073477,\"osType\":\"fhfovv\"}")
            .toObject(HyperVToAzStackHCIProtectedItemModelCustomPropertiesUpdate.class);
        Assertions.assertEquals("cypuuwwlt", model.nicsToInclude().get(0).nicId());
        Assertions.assertEquals("hmkdasvfl", model.nicsToInclude().get(0).targetNetworkId());
        Assertions.assertEquals("bxcudchx", model.nicsToInclude().get(0).testNetworkId());
        Assertions.assertEquals(VMNicSelection.SELECTED_BY_DEFAULT,
            model.nicsToInclude().get(0).selectionTypeForFailover());
        Assertions.assertEquals(true, model.nicsToInclude().get(0).isStaticIpMigrationEnabled());
        Assertions.assertEquals(true, model.nicsToInclude().get(0).isMacMigrationEnabled());
        Assertions.assertEquals(82172099, model.targetCpuCores());
        Assertions.assertEquals(true, model.isDynamicRam());
        Assertions.assertEquals(3528523255397444871L, model.dynamicMemoryConfig().maximumMemoryInMegaBytes());
        Assertions.assertEquals(4860451195425354818L, model.dynamicMemoryConfig().minimumMemoryInMegaBytes());
        Assertions.assertEquals(2116230034, model.dynamicMemoryConfig().targetMemoryBufferPercentage());
        Assertions.assertEquals(447073477, model.targetMemoryInMegaBytes());
        Assertions.assertEquals("fhfovv", model.osType());
    }

    @org.junit.jupiter.api.Test
    public void testSerialize() throws Exception {
        HyperVToAzStackHCIProtectedItemModelCustomPropertiesUpdate model
            = new HyperVToAzStackHCIProtectedItemModelCustomPropertiesUpdate()
                .withNicsToInclude(Arrays.asList(new HyperVToAzStackHCINicInput().withNicId("cypuuwwlt")
                    .withTargetNetworkId("hmkdasvfl")
                    .withTestNetworkId("bxcudchx")
                    .withSelectionTypeForFailover(VMNicSelection.SELECTED_BY_DEFAULT)
                    .withIsStaticIpMigrationEnabled(true)
                    .withIsMacMigrationEnabled(true)))
                .withTargetCpuCores(82172099)
                .withIsDynamicRam(true)
                .withDynamicMemoryConfig(
                    new ProtectedItemDynamicMemoryConfig().withMaximumMemoryInMegaBytes(3528523255397444871L)
                        .withMinimumMemoryInMegaBytes(4860451195425354818L)
                        .withTargetMemoryBufferPercentage(2116230034))
                .withTargetMemoryInMegaBytes(447073477)
                .withOsType("fhfovv");
        model = BinaryData.fromObject(model).toObject(HyperVToAzStackHCIProtectedItemModelCustomPropertiesUpdate.class);
        Assertions.assertEquals("cypuuwwlt", model.nicsToInclude().get(0).nicId());
        Assertions.assertEquals("hmkdasvfl", model.nicsToInclude().get(0).targetNetworkId());
        Assertions.assertEquals("bxcudchx", model.nicsToInclude().get(0).testNetworkId());
        Assertions.assertEquals(VMNicSelection.SELECTED_BY_DEFAULT,
            model.nicsToInclude().get(0).selectionTypeForFailover());
        Assertions.assertEquals(true, model.nicsToInclude().get(0).isStaticIpMigrationEnabled());
        Assertions.assertEquals(true, model.nicsToInclude().get(0).isMacMigrationEnabled());
        Assertions.assertEquals(82172099, model.targetCpuCores());
        Assertions.assertEquals(true, model.isDynamicRam());
        Assertions.assertEquals(3528523255397444871L, model.dynamicMemoryConfig().maximumMemoryInMegaBytes());
        Assertions.assertEquals(4860451195425354818L, model.dynamicMemoryConfig().minimumMemoryInMegaBytes());
        Assertions.assertEquals(2116230034, model.dynamicMemoryConfig().targetMemoryBufferPercentage());
        Assertions.assertEquals(447073477, model.targetMemoryInMegaBytes());
        Assertions.assertEquals("fhfovv", model.osType());
    }
}
