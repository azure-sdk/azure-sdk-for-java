// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) TypeSpec Code Generator.

package com.azure.resourcemanager.scvmm.generated;

import com.azure.core.credential.AccessToken;
import com.azure.core.http.HttpClient;
import com.azure.core.http.rest.PagedIterable;
import com.azure.core.management.AzureEnvironment;
import com.azure.core.management.profile.AzureProfile;
import com.azure.core.test.http.MockHttpResponse;
import com.azure.resourcemanager.scvmm.SCVMMManager;
import com.azure.resourcemanager.scvmm.models.VirtualMachineTemplate;
import java.nio.charset.StandardCharsets;
import java.time.OffsetDateTime;
import org.junit.jupiter.api.Assertions;
import org.junit.jupiter.api.Test;
import reactor.core.publisher.Mono;

public final class VirtualMachineTemplatesListMockTests {
    @Test
    public void testList() throws Exception {
        String responseStr
            = "{\"value\":[{\"properties\":{\"inventoryItemId\":\"hlnymzotq\",\"uuid\":\"yuzcbmqqvxmvw\",\"vmmServerId\":\"tayx\",\"osType\":\"Linux\",\"osName\":\"peujlzqn\",\"computerName\":\"vsqltnzoibgsxg\",\"memoryMB\":554896310,\"cpuCount\":1015964273,\"limitCpuForMigration\":\"false\",\"dynamicMemoryEnabled\":\"true\",\"isCustomizable\":\"true\",\"dynamicMemoryMaxMB\":331382347,\"dynamicMemoryMinMB\":198228895,\"isHighlyAvailable\":\"true\",\"generation\":887033867,\"networkInterfaces\":[{\"name\":\"eiiqbim\",\"displayName\":\"mwwinhehfqpofv\",\"ipv4Addresses\":[\"blembnkbwvqvxkd\",\"vqihebwtswbzuwf\",\"duragegizvc\"],\"ipv6Addresses\":[\"lisdjubggbq\",\"gkxkbsazgakg\"],\"macAddress\":\"yrcmjdmspofap\",\"virtualNetworkId\":\"hryl\",\"networkName\":\"ofrzgb\",\"ipv4AddressType\":\"Dynamic\",\"ipv6AddressType\":\"Dynamic\",\"macAddressType\":\"Static\",\"nicId\":\"vnlvxbcuiiznktwf\"},{\"name\":\"snvpdibmi\",\"displayName\":\"stbz\",\"ipv4Addresses\":[\"wbuqn\",\"ophzfylsgcrp\"],\"ipv6Addresses\":[\"une\",\"zcezelfwyfwl\",\"xjwet\",\"psihcla\"],\"macAddress\":\"va\",\"virtualNetworkId\":\"pt\",\"networkName\":\"qqwzt\",\"ipv4AddressType\":\"Dynamic\",\"ipv6AddressType\":\"Dynamic\",\"macAddressType\":\"Static\",\"nicId\":\"xwaxfewzjkj\"},{\"name\":\"fdeqvhpsyl\",\"displayName\":\"shk\",\"ipv4Addresses\":[\"mbmxzjrgywwpgj\"],\"ipv6Addresses\":[\"ptfujgicgaaoept\",\"aqutdewemxswvruu\"],\"macAddress\":\"zjgehkfkim\",\"virtualNetworkId\":\"ixokffqyin\",\"networkName\":\"qepqwhixmon\",\"ipv4AddressType\":\"Dynamic\",\"ipv6AddressType\":\"Dynamic\",\"macAddressType\":\"Static\",\"nicId\":\"velfcldu\"},{\"name\":\"birdsvuwcobiegs\",\"displayName\":\"ninwjizc\",\"ipv4Addresses\":[\"ghgshejjtbxqmu\",\"uxlxqzvners\"],\"ipv6Addresses\":[\"ucrwnami\",\"ze\",\"rqbsmswziq\"],\"macAddress\":\"uhok\",\"virtualNetworkId\":\"uswhvhczznvfbycj\",\"networkName\":\"jww\",\"ipv4AddressType\":\"Dynamic\",\"ipv6AddressType\":\"Static\",\"macAddressType\":\"Static\",\"nicId\":\"xqhndvnoamlds\"}],\"disks\":[{\"name\":\"hdjhhflz\",\"displayName\":\"xcoxpelnjet\",\"diskId\":\"ltsxoatf\",\"diskSizeGB\":2037643049,\"maxDiskSizeGB\":1034709707,\"bus\":498260807,\"lun\":1219927241,\"busType\":\"e\",\"vhdType\":\"occsr\",\"volumeType\":\"zihmipgawtxxpky\",\"vhdFormatType\":\"xcjxgrytfmpcy\",\"templateDiskId\":\"lrmcaykg\",\"storageQoSPolicy\":{\"name\":\"xu\",\"id\":\"rksxwpndfc\"},\"createDiffDisk\":\"true\"},{\"name\":\"nthjtwkjaosrxuzv\",\"displayName\":\"mktcqiosmgbza\",\"diskId\":\"xqdlyrtltlapr\",\"diskSizeGB\":1339106898,\"maxDiskSizeGB\":179999920,\"bus\":2087309055,\"lun\":498585791,\"busType\":\"znnbsoqeqalarvl\",\"vhdType\":\"un\",\"volumeType\":\"gfebwlnb\",\"vhdFormatType\":\"yreeudz\",\"templateDiskId\":\"vbpdqmjxlyyzglgo\",\"storageQoSPolicy\":{\"name\":\"lmjjyuo\",\"id\":\"tob\"},\"createDiffDisk\":\"true\"}],\"provisioningState\":\"Failed\"},\"extendedLocation\":{\"type\":\"tu\",\"name\":\"bfjkw\"},\"location\":\"snkq\",\"tags\":{\"qunjqh\":\"y\"},\"id\":\"enx\",\"name\":\"ulkpakd\",\"type\":\"ifmjnn\"}]}";

        HttpClient httpClient
            = response -> Mono.just(new MockHttpResponse(response, 200, responseStr.getBytes(StandardCharsets.UTF_8)));
        SCVMMManager manager = SCVMMManager.configure()
            .withHttpClient(httpClient)
            .authenticate(tokenRequestContext -> Mono.just(new AccessToken("this_is_a_token", OffsetDateTime.MAX)),
                new AzureProfile("", "", AzureEnvironment.AZURE));

        PagedIterable<VirtualMachineTemplate> response
            = manager.virtualMachineTemplates().list(com.azure.core.util.Context.NONE);

        Assertions.assertEquals("snkq", response.iterator().next().location());
        Assertions.assertEquals("y", response.iterator().next().tags().get("qunjqh"));
        Assertions.assertEquals("hlnymzotq", response.iterator().next().properties().inventoryItemId());
        Assertions.assertEquals("yuzcbmqqvxmvw", response.iterator().next().properties().uuid());
        Assertions.assertEquals("tayx", response.iterator().next().properties().vmmServerId());
        Assertions.assertEquals("tu", response.iterator().next().extendedLocation().type());
        Assertions.assertEquals("bfjkw", response.iterator().next().extendedLocation().name());
    }
}
