// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) AutoRest Code Generator.

package com.azure.servicefabric.servicefabric.generated;

import com.azure.core.http.rest.RequestOptions;
import com.azure.core.http.rest.Response;
import com.azure.core.util.BinaryData;
import com.azure.servicefabric.servicefabric.MeshGatewayClient;
import com.azure.servicefabric.servicefabric.MeshGatewayClientBuilder;
import com.azure.servicefabric.servicefabric.implementation.models.HostOptions;

public class CreateOrUpdateMeshGateway {
    public static void main(String[] args) {
        MeshGatewayClient meshGatewayClient =
                new MeshGatewayClientBuilder().host(HostOptions.HTTP_LOCALHOST19080).buildClient();
        // BEGIN:com.azure.servicefabric.servicefabric.generated.meshgatewaycreateorupdate.createorupdatemeshgateway
        BinaryData gatewayResourceDescription =
                BinaryData.fromString(
                        "{\"name\":\"sampleGateway\",\"properties\":{\"description\":\"Service Fabric Mesh sample gateway.\",\"destinationNetwork\":{\"name\":\"helloWorldNetwork\"},\"sourceNetwork\":{\"name\":\"Open\"},\"tcp\":[{\"name\":\"web\",\"destination\":{\"applicationName\":\"helloWorldApp\",\"endpointName\":\"helloWorldListener\",\"serviceName\":\"helloWorldService\"},\"port\":80}],\"http\":[{\"name\":\"contosoWebsite\",\"hosts\":[{\"name\":\"contoso.com\",\"routes\":[{\"name\":\"index\",\"destination\":{\"applicationName\":\"httpHelloWorldApp\",\"endpointName\":\"indexHttpEndpoint\",\"serviceName\":\"indexService\"},\"match\":{\"path\":{\"type\":\"prefix\",\"rewrite\":\"/\",\"value\":\"/index\"},\"headers\":[{\"name\":\"accept\",\"type\":\"exact\",\"value\":\"application/json\"}]}}]}],\"port\":8081}]}}");
        RequestOptions requestOptions = new RequestOptions();
        Response<BinaryData> response =
                meshGatewayClient.createOrUpdateWithResponse(
                        "sampleGateway", gatewayResourceDescription, requestOptions);
        // END:com.azure.servicefabric.servicefabric.generated.meshgatewaycreateorupdate.createorupdatemeshgateway
    }
}
