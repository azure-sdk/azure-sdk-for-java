// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) TypeSpec Code Generator.

package com.microsoft.agricultureplatform.generated;

import com.azure.core.credential.KeyCredential;
import com.azure.core.util.Configuration;
import com.microsoft.agricultureplatform.AgriculturePlatformClientBuilder;
import com.microsoft.agricultureplatform.SatelliteOperationsClient;
import com.microsoft.agricultureplatform.models.FetchItemsOptions;
import com.microsoft.agricultureplatform.models.KeyVaultProperties;
import com.microsoft.agricultureplatform.models.OauthClientCredentials;
import com.microsoft.agricultureplatform.models.SatelliteData;
import com.microsoft.agricultureplatform.models.SatelliteFetchResponse;
import java.time.OffsetDateTime;
import java.util.Arrays;

public class SatelliteFetchItems {
    public static void main(String[] args) {
        SatelliteOperationsClient satelliteOperationsClient = new AgriculturePlatformClientBuilder()
            .credential(new KeyCredential(Configuration.getGlobalConfiguration().get("API_KEY")))
            .endpoint(Configuration.getGlobalConfiguration().get("ENDPOINT"))
            .buildSatelliteOperationsClient();
        // BEGIN:com.microsoft.agricultureplatform.generated.satelliteoperationsfetchitems.satellitefetchitems
        SatelliteFetchResponse response
            = satelliteOperationsClient
                .fetchItems(
                    new FetchItemsOptions(
                        new OauthClientCredentials("ed16ee3f-9742-42cc-a71b-dcd90c3b6c03",
                            new KeyVaultProperties("fakeTokenPlaceholder", "fakeTokenPlaceholder",
                                "fakeTokenPlaceholder")),
                        "SentinelHub", "/catalogs/CATALOG123/collections/utka-collection/items/utka-item",
                        new SatelliteData().setImageNames(Arrays.asList("NDVI", "B04", "B08", "dataMask", "CLM"))
                            .setImageFormats(Arrays.asList("TIF"))
                            .setImageResolutions(Arrays.asList(10.0)),
                        "sentinel-2-l2a").setStartDateTime(OffsetDateTime.parse("2024-06-05T12:42:29.217Z"))
                            .setEndDateTime(OffsetDateTime.parse("2024-06-14T12:42:29.217Z")));
        // END:com.microsoft.agricultureplatform.generated.satelliteoperationsfetchitems.satellitefetchitems
    }
}
