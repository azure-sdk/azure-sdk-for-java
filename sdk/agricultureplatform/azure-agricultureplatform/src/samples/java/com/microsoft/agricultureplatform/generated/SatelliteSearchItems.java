// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) TypeSpec Code Generator.

package com.microsoft.agricultureplatform.generated;

import com.azure.core.credential.KeyCredential;
import com.azure.core.util.Configuration;
import com.microsoft.agricultureplatform.AgriculturePlatformClientBuilder;
import com.microsoft.agricultureplatform.SatelliteOperationsClient;
import com.microsoft.agricultureplatform.models.KeyVaultProperties;
import com.microsoft.agricultureplatform.models.OauthClientCredentials;
import com.microsoft.agricultureplatform.models.Polygon;
import com.microsoft.agricultureplatform.models.SearchFeaturesResponse;
import com.microsoft.agricultureplatform.models.SearchItemsOptions;
import java.time.OffsetDateTime;
import java.util.Arrays;

public class SatelliteSearchItems {
    public static void main(String[] args) {
        SatelliteOperationsClient satelliteOperationsClient = new AgriculturePlatformClientBuilder()
            .credential(new KeyCredential(Configuration.getGlobalConfiguration().get("API_KEY")))
            .endpoint(Configuration.getGlobalConfiguration().get("ENDPOINT"))
            .buildSatelliteOperationsClient();
        // BEGIN:com.microsoft.agricultureplatform.generated.satelliteoperationssearchitems.satellitesearchitems
        SearchFeaturesResponse response
            = satelliteOperationsClient
                .searchItems(new SearchItemsOptions(
                    new OauthClientCredentials("ed16ee3f-9742-42cc-a71b-dcd90c3b6c03",
                        new KeyVaultProperties("fakeTokenPlaceholder", "fakeTokenPlaceholder", "fakeTokenPlaceholder")),
                    "SentinelHub", "sentinel-2-l2a").setStartDateTime(OffsetDateTime.parse("2024-06-15T12:42:29.217Z"))
                        .setEndDateTime(OffsetDateTime.parse("2024-06-22T12:42:29.217Z"))
                        .setIntersects(new Polygon(
                            Arrays.asList(Arrays.asList(Arrays.asList(73.70457172393799, 20.545385304358106),
                                Arrays.asList(73.70457172393799, 20.545385304358106),
                                Arrays.asList(73.70448589324951, 20.542411534243367),
                                Arrays.asList(73.70877742767334, 20.541688176010233),
                                Arrays.asList(73.71023654937744, 20.545083911372505),
                                Arrays.asList(73.70663166046143, 20.546992723579137),
                                Arrays.asList(73.70457172393799, 20.545385304358106))))));
        // END:com.microsoft.agricultureplatform.generated.satelliteoperationssearchitems.satellitesearchitems
    }
}
