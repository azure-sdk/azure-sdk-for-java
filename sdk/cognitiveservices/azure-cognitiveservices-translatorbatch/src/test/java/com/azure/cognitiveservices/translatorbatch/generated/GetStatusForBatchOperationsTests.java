// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) AutoRest Code Generator.

package com.azure.cognitiveservices.translatorbatch.generated;

import com.azure.core.http.rest.PagedIterable;
import com.azure.core.http.rest.RequestOptions;
import com.azure.core.util.BinaryData;
import org.junit.jupiter.api.Assertions;
import org.junit.jupiter.api.Disabled;
import org.junit.jupiter.api.Test;

public final class GetStatusForBatchOperationsTests extends BatchDocumentTranslationClientTestBase {
    @Test
    @Disabled
    public void testGetStatusForBatchOperationsTests() {
        RequestOptions requestOptions = new RequestOptions();
        requestOptions.addQueryParam("$maxpagesize", "10");
        requestOptions.addQueryParam("$orderBy", "createdDateTimeUtc asc");
        requestOptions.addQueryParam("$skip", "0");
        requestOptions.addQueryParam("$top", "1");
        requestOptions.addQueryParam("createdDateTimeUtcEnd", "2021-03-25T07:03:38.0136316Z");
        requestOptions.addQueryParam("createdDateTimeUtcStart", "2021-03-23T07:03:38.0136316Z");
        requestOptions.addQueryParam("ids", "273622bd-835c-4946-9798-fd8f19f6bbf2");
        requestOptions.addQueryParam("statuses", "Succeeded");
        PagedIterable<BinaryData> response = batchDocumentTranslationClient.getTranslationsStatus(requestOptions);
        Assertions.assertEquals(200, response.iterableByPage().iterator().next().getStatusCode());
        Assertions.assertEquals(
                "686897696a7c876b7e", response.iterableByPage().iterator().next().getHeaders().get("ETag").getValue());
        Assertions.assertEquals(
                "30", response.iterableByPage().iterator().next().getHeaders().get("retry-after").getValue());
        Assertions.assertEquals(
                BinaryData.fromString(
                                "{\"createdDateTimeUtc\":\"2021-03-23T07:03:30.013631Z\",\"id\":\"273622bd-835c-4946-9798-fd8f19f6bbf2\",\"lastActionDateTimeUtc\":\"2021-03-26T01:00:00Z\",\"self\":\"https://myresource.cognitiveservices/translator/document/v2.0-preview1/batches/36724748-f7a0-4db7-b7fd-f041ddc75033\",\"status\":\"Succeeded\",\"summary\":{\"cancelled\":0,\"failed\":1,\"inProgress\":0,\"notYetStarted\":0,\"success\":9,\"total\":10,\"totalCharacterCharged\":1000}}")
                        .toObject(Object.class),
                response.iterator().next().toObject(Object.class));
    }
}
